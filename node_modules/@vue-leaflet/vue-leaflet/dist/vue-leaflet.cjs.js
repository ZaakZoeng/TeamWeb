"use strict";var je=Object.create;var Q=Object.defineProperty;var _e=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Ce=Object.getPrototypeOf,Te=Object.prototype.hasOwnProperty;var Pe=(t,n,e,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of Se(n))!Te.call(t,r)&&r!==e&&Q(t,r,{get:()=>n[r],enumerable:!(s=_e(n,r))||s.enumerable});return t};var m=(t,n,e)=>(e=t!=null?je(Ce(t)):{},Pe(n||!t||!t.__esModule?Q(e,"default",{value:t,enumerable:!0}):e,t));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("vue"),V=(t,n=100)=>{let e;const s=function(...r){const a=this;e&&clearTimeout(e),e=setTimeout(()=>{t.apply(a,r),e=null},n)};return s.cancel=function(){e&&clearTimeout(e)},s},ee=function(t){for(const n of Object.values(t))n&&k(n.cancel)&&n.cancel()},Be=t=>!t||typeof t.charAt!="function"?t:t.charAt(0).toUpperCase()+t.slice(1),k=t=>typeof t=="function",b=(t,n,e)=>{for(const s in e){const r="set"+Be(s);t[r]?o.watch(()=>e[s],(a,i)=>{t[r](a,i)}):n[r]&&o.watch(()=>e[s],a=>{n[r](a)})}},v=(t,n,e={})=>{const s={...e};for(const r in t){const a=n[r],i=t[r];a&&(a&&a.custom===!0||i!==void 0&&(s[r]=i))}return s},O=t=>{const n={};for(const e in t)if(e.startsWith("on")&&!e.startsWith("onUpdate")&&e!=="onReady"){const s=e.slice(2).toLocaleLowerCase();n[s]=t[e]}return n},ke=async t=>{const n=await Promise.all([import("leaflet/dist/images/marker-icon-2x.png"),import("leaflet/dist/images/marker-icon.png"),import("leaflet/dist/images/marker-shadow.png")]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:n[0].default,iconUrl:n[1].default,shadowUrl:n[2].default})},U=t=>{const n=o.ref(()=>console.warn(`Method ${t} has been invoked without being replaced`)),e=(...s)=>n.value(...s);return e.wrapped=n,o.provide(t,e),e},H=(t,n)=>t.wrapped.value=n,f=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||void 0,L="useGlobalLeaflet",I={options:{type:Object,default:()=>({}),custom:!0}},N=t=>({options:t.options,methods:{}}),M={...I,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},D=(t,n,e)=>{const s=o.inject("addLayer"),r=o.inject("removeLayer"),{options:a,methods:i}=N(t),l=v(t,M,a),u=()=>s({leafletObject:n.value}),c=()=>r({leafletObject:n.value}),p={...i,setAttribution(y){c(),n.value.options.attribution=y,t.visible&&u()},setName(){c(),t.visible&&u()},setLayerType(){c(),t.visible&&u()},setVisible(y){n.value&&(y?u():c())},bindPopup({leafletObject:y}){if(!n.value||!k(n.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}n.value.bindPopup(y)},bindTooltip({leafletObject:y}){if(!n.value||!k(n.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}n.value.bindTooltip(y)},unbindTooltip(){n.value&&(k(n.value.closeTooltip)&&n.value.closeTooltip(),k(n.value.unbindTooltip)&&n.value.unbindTooltip())},unbindPopup(){n.value&&(k(n.value.closePopup)&&n.value.closePopup(),k(n.value.unbindPopup)&&n.value.unbindPopup())},updateVisibleProp(y){e.emit("update:visible",y)}};return o.provide("bindPopup",p.bindPopup),o.provide("bindTooltip",p.bindTooltip),o.provide("unbindTooltip",p.unbindTooltip),o.provide("unbindPopup",p.unbindPopup),o.onUnmounted(()=>{p.unbindPopup(),p.unbindTooltip(),c()}),{options:l,methods:p}},T=(t,n)=>{if(t&&n.default)return o.h("div",{style:{display:"none"}},n.default())},te={...M,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},we=(t,n,e)=>{const{options:s,methods:r}=D(t,n,e);return{options:v(t,te,s),methods:r}},q={...te,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},ne=(t,n,e)=>{const{options:s,methods:r}=we(t,n,e),a=v(t,q,s),i=o.inject("removeLayer"),l={...r,setStroke(u){n.value.setStyle({stroke:u})},setColor(u){n.value.setStyle({color:u})},setWeight(u){n.value.setStyle({weight:u})},setOpacity(u){n.value.setStyle({opacity:u})},setLineCap(u){n.value.setStyle({lineCap:u})},setLineJoin(u){n.value.setStyle({lineJoin:u})},setDashArray(u){n.value.setStyle({dashArray:u})},setDashOffset(u){n.value.setStyle({dashOffset:u})},setFill(u){n.value.setStyle({fill:u})},setFillColor(u){n.value.setStyle({fillColor:u})},setFillOpacity(u){n.value.setStyle({fillOpacity:u})},setFillRule(u){n.value.setStyle({fillRule:u})},setClassName(u){n.value.setStyle({className:u})}};return o.onBeforeUnmount(()=>{i({leafletObject:n.value})}),{options:a,methods:l}},W={...q,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}},oe=(t,n,e)=>{const{options:s,methods:r}=ne(t,n,e),a=v(t,W,s),i={...r,setRadius(l){n.value.setRadius(l)},setLatLng(l){n.value.setLatLng(l)}};return{options:a,methods:i}},se={...W,radius:{type:Number}},Me=(t,n,e)=>{const{options:s,methods:r}=oe(t,n,e),a=v(t,se,s),i={...r};return{options:a,methods:i}},$e={name:"LCircle",props:se,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer"),{options:i,methods:l}=Me(t,e,n);return o.onMounted(async()=>{const{circle:u,DomEvent:c}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(u(t.latLng,i));const p=O(n.attrs);c.on(e.value,p),b(l,e.value,t),a({...t,...l,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},Ae=$e,Ge={name:"LCircleMarker",props:W,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer"),{options:i,methods:l}=oe(t,e,n);return o.onMounted(async()=>{const{circleMarker:u,DomEvent:c}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(u(t.latLng,i));const p=O(n.attrs);c.on(e.value,p),b(l,e.value,t),a({...t,...l,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},Ie=Ge,$={...I,position:{type:String}},E=(t,n)=>{const{options:e,methods:s}=N(t),r=v(t,$,e),a={...s,setPosition(i){n.value&&n.value.setPosition(i)}};return o.onUnmounted(()=>{n.value&&n.value.remove()}),{options:r,methods:a}},Ne=t=>t.default?o.h("div",{ref:"root"},t.default()):null,De={name:"LControl",props:{...$,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(t,n){const e=o.ref({}),s=o.ref(null),r=o.inject(L),a=o.inject("registerControl"),{options:i,methods:l}=E(t,e);return o.onMounted(async()=>{const{Control:u,DomEvent:c}=r?f.L:await import("leaflet/dist/leaflet-src.esm"),p=u.extend({onAdd(){return s.value}});e.value=o.markRaw(new p(i)),b(l,e.value,t),a({leafletObject:e.value}),t.disableClickPropagation&&c.disableClickPropagation(s.value),t.disableScrollPropagation&&c.disableScrollPropagation(s.value),o.nextTick(()=>n.emit("ready",e.value))}),{root:s,leafletObject:e}},render(){return Ne(this.$slots)}},Ee=De,ae={...$,prefix:{type:String}},Ue=(t,n)=>{const{options:e,methods:s}=E(t,n),r=v(t,ae,e),a={...s,setPrefix(i){n.value.setPrefix(i)}};return{options:r,methods:a}},He={name:"LControlAttribution",props:ae,setup(t,n){const e=o.ref({}),s=o.inject(L),r=o.inject("registerControl"),{options:a,methods:i}=Ue(t,e);return o.onMounted(async()=>{const{control:l}=s?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(l.attribution(a)),b(i,e.value,t),r({leafletObject:e.value}),o.nextTick(()=>n.emit("ready",e.value))}),{leafletObject:e}},render(){return null}},ze=He,re={...$,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}},Fe=(t,n)=>{const{options:e}=E(t,n);return{options:v(t,re,e),methods:{addLayer(a){a.layerType==="base"?n.value.addBaseLayer(a.leafletObject,a.name):a.layerType==="overlay"&&n.value.addOverlay(a.leafletObject,a.name)},removeLayer(a){n.value.removeLayer(a.leafletObject)}}}},Ze={name:"LControlLayers",props:re,setup(t,n){const e=o.ref({}),s=o.inject(L),r=o.inject("registerLayerControl"),{options:a,methods:i}=Fe(t,e);return o.onMounted(async()=>{const{control:l}=s?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(l.layers(null,null,a)),b(i,e.value,t),r({...t,...i,leafletObject:e.value}),o.nextTick(()=>n.emit("ready",e.value))}),{leafletObject:e}},render(){return null}},qe=Ze,le={...$,maxWidth:{type:Number},metric:{type:Boolean,default:void 0},imperial:{type:Boolean,default:void 0},updateWhenIdle:{type:Boolean,default:void 0}},We=(t,n)=>{const{options:e,methods:s}=E(t,n);return{options:v(t,le,e),methods:s}},xe={name:"LControlScale",props:le,setup(t,n){const e=o.ref({}),s=o.inject(L),r=o.inject("registerControl"),{options:a,methods:i}=We(t,e);return o.onMounted(async()=>{const{control:l}=s?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(l.scale(a)),b(i,e.value,t),r({leafletObject:e.value}),o.nextTick(()=>n.emit("ready",e.value))}),{leafletObject:e}},render(){return null}},Je=xe,ie={...$,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}},Re=(t,n)=>{const{options:e,methods:s}=E(t,n);return{options:v(t,ie,e),methods:s}},Ke={name:"LControlZoom",props:ie,setup(t,n){const e=o.ref({}),s=o.inject(L),r=o.inject("registerControl"),{options:a,methods:i}=Re(t,e);return o.onMounted(async()=>{const{control:l}=s?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(l.zoom(a)),b(i,e.value,t),r({leafletObject:e.value}),o.nextTick(()=>n.emit("ready",e.value))}),{leafletObject:e}},render(){return null}},Qe=Ke,z={...M},x=(t,n,e)=>{const{options:s,methods:r}=D(t,n,e),a=v(t,z,s),i={...r,addLayer(l){n.value.addLayer(l.leafletObject)},removeLayer(l){n.value.removeLayer(l.leafletObject)}};return o.provide("addLayer",i.addLayer),o.provide("removeLayer",i.removeLayer),{options:a,methods:i}},ue={...z},Xe=(t,n)=>{const{options:e,methods:s}=x(t,n),r=v(t,ue,e),a={...s};return{options:r,methods:a}},Ye={props:ue,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer"),{methods:i,options:l}=Xe(t,e);return o.onMounted(async()=>{const{featureGroup:u,DomEvent:c}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(u(l));const p=O(n.attrs);c.on(e.value,p),b(i,e.value,t),a({...t,...i,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},Ve=Ye,ce={...z,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:[Object,Function],custom:!0}},et=(t,n,e)=>{const{options:s,methods:r}=x(t,n,e),a=v(t,ce,s);Object.prototype.hasOwnProperty.call(t,"optionsStyle")&&(a.style=t.optionsStyle);const i={...r,setGeojson(l){n.value.clearLayers(),n.value.addData(l)},setOptionsStyle(l){n.value.setStyle(l)},getGeoJSONData(){return n.value.toGeoJSON()},getBounds(){return n.value.getBounds()}};return{options:a,methods:i}},tt={props:ce,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer"),{methods:i,options:l}=et(t,e,n);return o.onMounted(async()=>{const{geoJSON:u,DomEvent:c}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(u(t.geojson,l));const p=O(n.attrs);c.on(e.value,p),b(i,e.value,t),a({...t,...i,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},nt=tt,J={...M,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:Number},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number}},de=(t,n,e)=>{const{options:s,methods:r}=D(t,n,e);return{options:v(t,J,s),methods:{...r}}},ot={props:{...J,childRender:{type:Function,required:!0}},setup(t,n){const e=o.ref({}),s=o.ref({}),r=o.ref(null),a=o.ref(!1),i=o.inject(L),l=o.inject("addLayer"),{options:u,methods:c}=de(t,e,n);return o.onMounted(async()=>{const{GridLayer:p,DomEvent:y,DomUtil:C}=i?f.L:await import("leaflet/dist/leaflet-src.esm");c.onUnload=S=>{const j=e.value._tileCoordsToKey(S.coords);s[j]&&(s[j].innerHTML="",s[j]=void 0)},c.setTileComponent=()=>{e.value.redraw()};const h=p.extend({createTile(S){const j=e.value._tileCoordsToKey(S);s[j]=C.create("div");let B=o.h({setup:t.childRender,props:["coords"]},{coords:S});return o.render(B,s[j]),s[j]}});e.value=o.markRaw(new h(u));const _=O(n.attrs);y.on(e.value,_),e.value.on("tileunload",c.onUnload),b(c,e.value,t),l({...t,...c,leafletObject:e.value}),a.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),o.onUnmounted(()=>{e.value.off("tileunload",c.onUnload)}),{root:r,ready:a,leafletObject:e}},render(){return this.ready?o.h("div",{style:{display:"none"},ref:"root"}):null}},st=ot,X={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}},at={name:"LIcon",props:{...X,...I},setup(t,n){const e=o.ref(null),s=o.inject(L),r=o.inject("canSetParentHtml"),a=o.inject("setParentHtml"),i=o.inject("setIcon");let l,u,c,p,y;const C=(j,B,A)=>{const w=j&&j.innerHTML;if(!B){A&&y&&r()&&a(w);return}const P=O(n.attrs);y&&u(y,P);const{options:Z}=N(t),d=v(t,X,Z);w&&(d.html=w),y=d.html?c(d):p(d),l(y,P),i(y)},h=()=>{o.nextTick(()=>C(e.value,!0,!1))},_=()=>{o.nextTick(()=>C(e.value,!1,!0))},S={setIconUrl:h,setIconRetinaUrl:h,setIconSize:h,setIconAnchor:h,setPopupAnchor:h,setTooltipAnchor:h,setShadowUrl:h,setShadowRetinaUrl:h,setShadowAnchor:h,setBgPos:h,setClassName:h,setHtml:h};return o.onMounted(async()=>{const{DomEvent:j,divIcon:B,icon:A}=s?f.L:await import("leaflet/dist/leaflet-src.esm");l=j.on,u=j.off,c=B,p=A,b(S,{},t),new MutationObserver(_).observe(e.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),h()}),{root:e}},render(){const t=this.$slots.default?this.$slots.default():void 0;return o.h("div",{ref:"root"},t)}},rt=at,pe={...M,opacity:{type:Number},alt:{type:String},interactive:{type:Boolean,default:void 0},crossOrigin:{type:Boolean,default:void 0},errorOverlayUrl:{type:String},zIndex:{type:Number},className:{type:String},url:{type:String,required:!0,custom:!0},bounds:{type:[Array,Object],required:!0,custom:!0}},lt=(t,n,e)=>{const{options:s,methods:r}=D(t,n,e),a=v(t,pe,s),i={...r,setOpacity(l){return n.value.setOpacity(l)},setUrl(l){return n.value.setUrl(l)},setBounds(l){return n.value.setBounds(l)},getBounds(){return n.value.getBounds()},getElement(){return n.value.getElement()},bringToFront(){return n.value.bringToFront()},bringToBack(){return n.value.bringToBack()},setZIndex(l){return n.value.setZIndex(l)}};return{options:a,methods:i}},it={name:"LImageOverlay",props:pe,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer"),{options:i,methods:l}=lt(t,e,n);return o.onMounted(async()=>{const{imageOverlay:u,DomEvent:c}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(u(t.url,t.bounds,i));const p=O(n.attrs);c.on(e.value,p),b(l,e.value,t),a({...t,...l,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},ut=it,ct={props:z,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer"),{methods:i}=x(t,e,n);return o.onMounted(async()=>{const{layerGroup:l,DomEvent:u}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(l(t.options));const c=O(n.attrs);u.on(e.value,c),b(i,e.value,t),a({...t,...i,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},dt=ct,Y={...I,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:Array},paddingTopLeft:{type:Array},padding:{type:Array},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},pt={emits:["ready","update:zoom","update:center","update:bounds"],props:Y,setup(t,n){const e=o.ref(null),s=o.reactive({ready:!1,leafletRef:{},layersToAdd:[],layersInControl:[]}),{options:r}=N(t),a=v(t,Y,r),i=U("addLayer"),l=U("removeLayer"),u=U("registerControl"),c=U("registerLayerControl");o.provide(L,t.useGlobalLeaflet);const p={moveEndHandler:V(()=>{n.emit("update:zoom",s.leafletRef.getZoom()),n.emit("update:center",s.leafletRef.getCenter()),n.emit("update:bounds",s.leafletRef.getBounds())}),overlayAddHandler(h){const _=s.layersInControl.find(S=>S.name===h.name);_&&_.updateVisibleProp(!0)},overlayRemoveHandler(h){const _=s.layersInControl.find(S=>S.name===h.name);_&&_.updateVisibleProp(!1)}};o.onMounted(async()=>{t.useGlobalLeaflet&&(f.L=f.L||await import("leaflet"));const{map:h,CRS:_,Icon:S,latLngBounds:j,latLng:B,DomEvent:A}=t.useGlobalLeaflet?f.L:await import("leaflet/dist/leaflet-src.esm");try{a.beforeMapMount&&await a.beforeMapMount()}catch(d){console.error(`The following error occurred running the provided beforeMapMount hook ${d.message}`)}await ke(S);const w=typeof a.crs=="string"?_[a.crs]:a.crs;a.crs=w||_.EPSG3857;const P={addLayer(d){d.layerType!==void 0&&(s.layerControl===void 0?s.layersToAdd.push(d):s.layersInControl.find(G=>G.leafletObject._leaflet_id===d.leafletObject._leaflet_id)||(s.layerControl.addLayer(d),s.layersInControl.push(d))),d.visible!==!1&&s.leafletRef.addLayer(d.leafletObject)},removeLayer(d){d.layerType!==void 0&&(s.layerControl===void 0?s.layersToAdd=s.layersToAdd.filter(g=>g.name!==d.name):(s.layerControl.removeLayer(d.leafletObject),s.layersInControl=s.layersInControl.filter(g=>g.leafletObject._leaflet_id!==d.leafletObject._leaflet_id))),s.leafletRef.removeLayer(d.leafletObject)},registerLayerControl(d){s.layerControl=d,s.layersToAdd.forEach(g=>{s.layerControl.addLayer(g)}),s.layersToAdd=[],u(d)},registerControl(d){s.leafletRef.addControl(d.leafletObject)},setZoom(d){const g=s.leafletRef.getZoom();d!==g&&s.leafletRef.setZoom(d,{animate:t.noBlockingAnimations?!1:null})},setPaddingBottomRight(d){s.paddingBottomRight=d},setPaddingTopLeft(d){s.paddingTopLeft=d},setPadding(d){s.padding=d},setCrs(d){const g=s.leafletRef.getBounds();s.leafletRef.options.crs=d,s.leafletRef.fitBounds(g,{animate:!1,padding:[0,0]})},fitBounds(d){s.leafletRef.fitBounds(d,{animate:this.noBlockingAnimations?!1:null})},setBounds(d){if(!d)return;const g=j(d);if(!g.isValid())return;!(s.lastSetBounds||s.leafletRef.getBounds()).equals(g,0)&&(s.lastSetBounds=g,s.leafletRef.fitBounds(g,this.fitBoundsOptions))},setCenter(d){if(d==null)return;const g=B(d),G=s.lastSetCenter||s.leafletRef.getCenter();(G.lat!==g.lat||G.lng!==g.lng)&&(s.lastSetCenter=g,s.leafletRef.panTo(g,{animate:this.noBlockingAnimations?!1:null}))}};H(i,P.addLayer),H(l,P.removeLayer),H(u,P.registerControl),H(c,P.registerLayerControl),s.leafletRef=o.markRaw(h(e.value,a)),b(P,s.leafletRef,t);const Z=O(n.attrs);s.leafletRef.on("moveend",p.moveEndHandler),s.leafletRef.on("overlayadd",p.overlayAddHandler),s.leafletRef.on("overlayremove",p.overlayRemoveHandler),A.on(s.leafletRef,Z),s.ready=!0,o.nextTick(()=>n.emit("ready",s.leafletRef))}),o.onBeforeUnmount(()=>{ee(p),s.leafletRef&&(s.leafletRef.off(),s.leafletRef.remove())});const y=o.computed(()=>s.leafletRef),C=o.computed(()=>s.ready);return{root:e,ready:C,leafletObject:y}},render(){return o.h("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}},yt=pt,mt=["Symbol(Comment)","Symbol(Text)"],ft=["LTooltip","LPopup"],ye={...M,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},vt=(t,n,e)=>{const{options:s,methods:r}=D(t,n,e),a=v(t,ye,s),i={...r,setDraggable(l){n.value.dragging&&(l?n.value.dragging.enable():n.value.dragging.disable())},latLngSync(l){e.emit("update:latLng",l.latlng),e.emit("update:lat-lng",l.latlng)},setLatLng(l){if(l!=null&&n.value){const u=n.value.getLatLng();(!u||!u.equals(l))&&n.value.setLatLng(l)}}};return{options:a,methods:i}},bt=(t,n)=>{const e=n.slots.default&&n.slots.default();return e&&e.length&&e.some(Lt)};function Lt(t){return!(mt.includes(t.type.toString())||ft.includes(t.type.name))}const ht={name:"LMarker",props:ye,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer");o.provide("canSetParentHtml",()=>!!e.value.getElement()),o.provide("setParentHtml",c=>e.value.getElement().innerHTML=c),o.provide("setIcon",c=>e.value.setIcon&&e.value.setIcon(c));const{options:i,methods:l}=vt(t,e,n),u={moveHandler:V(l.latLngSync)};return o.onMounted(async()=>{const{marker:c,DomEvent:p,divIcon:y}=r?f.L:await import("leaflet/dist/leaflet-src.esm");bt(i,n)&&(i.icon=y({className:""})),e.value=o.markRaw(c(t.latLng,i));const C=O(n.attrs);p.on(e.value,C),e.value.on("move",u.moveHandler),b(l,e.value,t),a({...t,...l,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),o.onBeforeUnmount(()=>ee(u)),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},gt=ht,R={...q,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},me=(t,n,e)=>{const{options:s,methods:r}=ne(t,n,e),a=v(t,R,s),i={...r,setSmoothFactor(l){n.value.setStyle({smoothFactor:l})},setNoClip(l){n.value.setStyle({noClip:l})},addLatLng(l){n.value.addLatLng(l)}};return{options:a,methods:i}},F={...R},fe=(t,n,e)=>{const{options:s,methods:r}=me(t,n,e),a=v(t,F,s),i={...r,toGeoJSON(l){return n.value.toGeoJSON(l)}};return{options:a,methods:i}},Ot={name:"LPolygon",props:F,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer"),{options:i,methods:l}=fe(t,e,n);return o.onMounted(async()=>{const{polygon:u,DomEvent:c}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(u(t.latLngs,i));const p=O(n.attrs);c.on(e.value,p),b(l,e.value,t),a({...t,...l,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},jt=Ot,_t={name:"LPolyline",props:R,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer"),{options:i,methods:l}=me(t,e,n);return o.onMounted(async()=>{const{polyline:u,DomEvent:c}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(u(t.latLngs,i));const p=O(n.attrs);c.on(e.value,p),b(l,e.value,t),a({...t,...l,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},St=_t,ve={...I,content:{type:String,default:null}},be=(t,n)=>{const{options:e,methods:s}=N(t),r={...s,setContent(a){n.value&&a!==null&&a!==void 0&&n.value.setContent(a)}};return{options:e,methods:r}},Le=t=>t.default?o.h("div",{ref:"root"},t.default()):null,Ct={...ve,latLng:{type:[Object,Array],default:()=>[]}},Tt=(t,n)=>{const{options:e,methods:s}=be(t,n);return{options:e,methods:s}},Pt={name:"LPopup",props:Ct,setup(t,n){const e=o.ref({}),s=o.ref(null),r=o.inject(L),a=o.inject("bindPopup"),i=o.inject("unbindPopup"),{options:l,methods:u}=Tt(t,e);return o.onMounted(async()=>{const{popup:c,DomEvent:p}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(c(l)),t.latLng!==void 0&&e.value.setLatLng(t.latLng),b(u,e.value,t);const y=O(n.attrs);p.on(e.value,y),e.value.setContent(t.content||s.value),a({leafletObject:e.value}),o.nextTick(()=>n.emit("ready",e.value))}),o.onBeforeUnmount(()=>{i({leafletObject:e.value})}),{root:s,leafletObject:e}},render(){return Le(this.$slots)}},Bt=Pt;F.latLngs.required=!1;const he={...F,bounds:{type:Array,custom:!0}},kt=(t,n,e)=>{const{options:s,methods:r}=fe(t,n,e),a=v(t,he,s),i={...r,setBounds(l){n.value.setBounds(l)},setLatLngs(l){n.value.setBounds(l)}};return{options:a,methods:i}},wt={name:"LRectangle",props:he,setup(t,n){const e=o.ref({}),s=o.ref(!1),r=o.inject(L),a=o.inject("addLayer"),{options:i,methods:l}=kt(t,e,n);return o.onMounted(async()=>{const{rectangle:u,latLngBounds:c,DomEvent:p}=r?f.L:await import("leaflet/dist/leaflet-src.esm"),y=t.bounds&&t.bounds.length?c(t.bounds):c(t.latLngs);e.value=o.markRaw(u(y,i));const C=O(n.attrs);p.on(e.value,C),b(l,e.value,t),a({...t,...l,leafletObject:e.value}),s.value=!0,o.nextTick(()=>n.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return T(this.ready,this.$slots)}},Mt=wt,K={...J,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>typeof t=="string"?!0:Array.isArray(t)?t.every(n=>typeof n=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},ge=(t,n,e)=>{const{options:s,methods:r}=de(t,n,e),a=v(t,K,s),i={...r};return{options:a,methods:i}},$t={props:K,setup(t,n){const e=o.ref({}),s=o.inject(L),r=o.inject("addLayer"),{options:a,methods:i}=ge(t,e,n);return o.onMounted(async()=>{const{tileLayer:l,DomEvent:u}=s?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(l(t.url,a));const c=O(n.attrs);u.on(e.value,c),b(i,e.value,t),r({...t,...i,leafletObject:e.value}),o.nextTick(()=>n.emit("ready",e.value))}),{leafletObject:e}},render(){return null}},At=$t,Gt={...ve},It=(t,n)=>{const{options:e,methods:s}=be(t,n),r=o.inject("unbindTooltip");return o.onBeforeUnmount(()=>{r()}),{options:e,methods:s}},Nt={name:"LTooltip",props:Gt,setup(t,n){const e=o.ref({}),s=o.ref(null),r=o.inject(L),a=o.inject("bindTooltip"),{options:i,methods:l}=It(t,e);return o.onMounted(async()=>{const{tooltip:u,DomEvent:c}=r?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(u(i)),b(l,e.value,t);const p=O(n.attrs);c.on(e.value,p),e.value.setContent(t.content||s.value),a({leafletObject:e.value}),o.nextTick(()=>n.emit("ready",e.value))}),{root:s,leafletObject:e}},render(){return Le(this.$slots)}},Dt=Nt,Oe={...K,layers:{type:String,required:!0},styles:{type:String},format:{type:String},transparent:{type:Boolean,default:void 0},version:{type:String},crs:{type:Object},uppercase:{type:Boolean,default:void 0}},Et=(t,n)=>{const{options:e,methods:s}=ge(t,n);return{options:v(t,Oe,e),methods:{...s}}},Ut={props:Oe,setup(t,n){const e=o.ref({}),s=o.inject(L),r=o.inject("addLayer"),{options:a,methods:i}=Et(t,e);return o.onMounted(async()=>{const{tileLayer:l,DomEvent:u}=s?f.L:await import("leaflet/dist/leaflet-src.esm");e.value=o.markRaw(l.wms(t.url,a));const c=O(n.attrs);u.on(e.value,c),b(i,e.value,t),r({...t,...i,leafletObject:e.value}),o.nextTick(()=>n.emit("ready",e.value))}),{leafletObject:e}},render(){return null}},Ht=Ut;exports.LCircle=Ae;exports.LCircleMarker=Ie;exports.LControl=Ee;exports.LControlAttribution=ze;exports.LControlLayers=qe;exports.LControlScale=Je;exports.LControlZoom=Qe;exports.LFeatureGroup=Ve;exports.LGeoJson=nt;exports.LGridLayer=st;exports.LIcon=rt;exports.LImageOverlay=ut;exports.LLayerGroup=dt;exports.LMap=yt;exports.LMarker=gt;exports.LPolygon=jt;exports.LPolyline=St;exports.LPopup=Bt;exports.LRectangle=Mt;exports.LTileLayer=At;exports.LTooltip=Dt;exports.LWmsTileLayer=Ht;
